{% extends "layouts/main.html" %}

{% block pageTitle %}
  Upload records
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <span class="govuk-caption-l">Step 3 of 7</span>
      <h1 class="govuk-heading-l">Upload your records</h1>

      <p class="govuk-body">Before uploading, all files and folders you wish to transfer must be put into a single, top-level folder.</p>

      <p class="govuk-body">Individual files must be no bigger than 2GB and you must upload no more than 500 files per transfer. To transfer larger files, contact <a href="mailto:tdr@nationalarchives.gov.uk">tdr@nationalarchives.gov.uk</a>. If your folder contains file formats that we cannot accept, you may have to start again.</p>

      <details class="govuk-details" data-module="govuk-details">
        <summary class="govuk-details__summary">
          <span class="govuk-details__summary-text">
          Check which files we cannot accept
        </span>
        </summary>
        <div class="govuk-details__text">
        We cannot accept files and folders which are password protected, zipped or contain slashes (/ and \) in the name. You must remove all thumbnail images (thumbs.db) and executable files (.exe). Empty folders will not be transferred.
      </div>
      </details>

      <h2 class="govuk-heading-m">Select a folder to upload</h2>

      <p class="govuk-body">Click 'Select a folder' to open a dialog box and select a folder. Once selected, you will be prompted to confirm your choice.</p>

      <form class="form" action="/progress-uploading" method="post" id="file-upload-form" data-consignment-id="@consignmentId">

        <div class="drag-and-drop govuk-!-margin-bottom-6" data-tdr-module="folder-upload">
          <div class="drag-and-drop__dropzone js-drag-and-drop-zone">
            <input type="file" id="file-selection" name="files" class="js-drag-and-drop-input input govuk-file-upload drag-and-drop__input" webkitdirectory="" accept="*">
            <span class="govuk-body drag-and-drop__hint-text">Drag and drop a single top-level folder here&nbsp;</span><br/>
            <label for="file-selection" class="govuk-button govuk-button--secondary drag-and-drop__button">
              Select a folder
            </label>
          </div>

          <div class="js-drag-and-drop-selected drag-and-drop__selected {% block dragDrop %}govuk-visually-hidden{% endblock %}">
            <p aria-live="assertive" aria-atomic="true" class="govuk-!-margin-bottom-3 drag-and-drop__selected__description">The folder <strong id="files-selected-folder-name" class="js-drag-and-drop-folder-name">Recipes for Cakes</strong> (containing <span class="js-drag-and-drop-no-of-files">6</span> files) has been selected.</p>
            <a href="" aria-describedby="files-selected-folder-name" class="govuk-link govuk-link--no-visited-state govuk-!-font-size-19 govuk-body govuk-!-font-weight-bold">Remove<span class="govuk-visually-hidden">&nbsp; selected files</span></a>
          </div>
        </div>

        <p class="govuk-body">For information on what metadata will be captured during upload, visit the <a target="_blank" rel="noopener noreferrer" href="/faq" class="govuk-link">FAQ (opens in new tab)</a>.</p>

        <div class="govuk-form-group">
          <div class="govuk-checkboxes">
            <div class="govuk-checkboxes__item">
              <input class="govuk-checkboxes__input" id="waste-2" name="waste" type="checkbox" value="mines">
              <label class="govuk-label govuk-checkboxes__label" for="waste-2">
                Check the box if you want to display the name of your top-level folder in the public catalogue.
              </label>
            </div>
          </div>
        </div>

        <div class="govuk-button-group">
          <button class="govuk-button" type="submit" data-module="govuk-button" role="button">
            Start upload
          </button>
          <a class="govuk-button govuk-button--secondary" href="/home">Cancel transfer</a>
        </div>

      </form>

    </div>
    <div class="govuk-grid-column-one-third">
      <details class="govuk-details" data-module="govuk-details">
        <summary class="govuk-details__summary">
          <span class="govuk-details__summary-text">
            Consignment reference
          </span>
        </summary>
        <div class="govuk-details__text">
          MOCK-123-TDR
        </div>
      </details>
    </div>
  </div>

{% endblock %}
