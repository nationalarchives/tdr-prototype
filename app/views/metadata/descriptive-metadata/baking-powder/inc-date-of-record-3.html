{% set dateSingle %}
<fieldset id="date-format-single" class="date-format govuk-fieldset" role="group" aria-describedby="date-single">
  <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
    <h2 class="govuk-fieldset__heading">
      A specific date
    </h2>
  </legend>
  <div id="date-single" class="govuk-hint">
    Enter a specific date for the record.
  </div>
  <div class="govuk-date-input">
    <div class="govuk-date-input__item">
      <div class="govuk-form-group">
        <label class="govuk-label govuk-date-input__label" for="date-single-Day">
            Day
          </label>
        <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="date-singleDay" name="Day" type="text" inputmode="numeric" placeholder="dd">
      </div>
    </div>

    <div class="govuk-date-input__item">
      <div class="govuk-form-group">
        <label class="govuk-label govuk-date-input__label" for="date-single-Month">
            Month
          </label>
        <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="date-single-Month" name="Month" type="text" inputmode="numeric" placeholder="mm">
      </div>
    </div>

    <div class="govuk-date-input__item">
      <div class="govuk-form-group">
        <label class="govuk-label govuk-date-input__label" for="date-single-Year">
            Year
          </label>
        <input class="govuk-input govuk-date-input__input govuk-input--width-4" id="date-single-Year" name="Year" type="text" inputmode="numeric" placeholder="yyyy">
      </div>
    </div>
  </div>
</fieldset>

{% endset -%}

{% set dateRange %}
<div id="date-format-range" class="date-format">
  <h3 class="govuk-heading-s govuk-!-margin-bottom-1">A date range</h3>
  <div id="date-range-hint" class="govuk-hint">
    Enter a start and end date for the record.
  </div>

  <fieldset class="govuk-fieldset govuk-fieldset--horizontal-align" role="group" aria-describedby="date-range-hint">
    <legend class="govuk-visually-hidden" aria-hidden="true">Start date</legend>
    <div class="govuk-fieldset__legend govuk-fieldset__legend--s govuk-hint">
      <h1 class="govuk-fieldset__heading">Start date</h1>
    </div>
    <div class="govuk-date-input" id="passport-issued">
      <div class="govuk-date-input__item">
        <div class="govuk-form-group">
          <label class="govuk-label govuk-date-input__label" for="date-range-day">
          Day
        </label>
          <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="date-range-start-day" name="date-range-start-day" type="text" inputmode="numeric" placeholder="dd">
        </div>
      </div>
      <div class="govuk-date-input__item">
        <div class="govuk-form-group">
          <label class="govuk-label govuk-date-input__label" for="date-range-start-month">
          Month
        </label>
          <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="date-range-start-month" name="date-range-start-month" type="text" inputmode="numeric" placeholder="mm">
        </div>
      </div>
      <div class="govuk-date-input__item">
        <div class="govuk-form-group">
          <label class="govuk-label govuk-date-input__label" for="date-range-start-year">
          Year
        </label>
          <input class="govuk-input govuk-date-input__input govuk-input--width-4" id="date-range-start-year" name="date-range-start-year" type="text" inputmode="numeric" placeholder="yyyy">
        </div>
      </div>
    </div>
  </fieldset>

  <fieldset class="govuk-fieldset govuk-fieldset--horizontal-align" role="group" aria-describedby="date-range-hint">
    <legend class="govuk-visually-hidden" aria-hidden="true">End date</legend>
    <div class="govuk-fieldset__legend govuk-fieldset__legend--s govuk-hint">
      <h1 class="govuk-fieldset__heading">End date</h1>
    </div>
    <div class="govuk-date-input" id="passport-issued">
      <div class="govuk-date-input__item">
        <div class="govuk-form-group">
          <label class="govuk-label govuk-date-input__label" for="date-range-end-day">
        Day
      </label>
          <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="date-range-end-day" name="date-range-end-day" type="text" inputmode="numeric" placeholder="dd">
        </div>
      </div>
      <div class="govuk-date-input__item">
        <div class="govuk-form-group">
          <label class="govuk-label govuk-date-input__label" for="date-range-end-month">
        Month
      </label>
          <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="date-range-end-month" name="date-range-end-month" type="text" inputmode="numeric" placeholder="mm">
        </div>
      </div>
      <div class="govuk-date-input__item">
        <div class="govuk-form-group">
          <label class="govuk-label govuk-date-input__label" for="date-range-end-year">
        Year
      </label>
          <input class="govuk-input govuk-date-input__input govuk-input--width-4" id="date-range-end-year" name="date-range-end-year" type="text" inputmode="numeric" placeholder="yyyy">
        </div>
      </div>
    </div>
  </fieldset>
</div>
{% endset -%}

<h2 class="govuk-heading-m" >
  Date of the record
</h2>

<p class="govuk-body">
  Review the last date modified we have determined from your upload and add corrected or supplementary dates to this record.
</p>

<p class="govuk-body">
  The <b>date last modified</b> has been automatically extracted during your file upload:
</p>
<p class="govuk-body-l">12 July 1998</p>

<div class="govuk-warning-text">
  <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
  <strong class="govuk-warning-text__text">
    <span class="govuk-warning-text__assistive">Warning</span>
    If the date last modified is not correct please add accurate date information below.
  </strong>
</div>

<p class="govuk-body"></p>
<div class="govuk-form-group">
  <fieldset class="govuk-fieldset">
    <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
      <h1 class="govuk-fieldset__heading">
          How would you like to enter date information?
        </h1>
    </legend>
    <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
      <div class="govuk-radios" data-module="govuk-radios">
        <div class="govuk-radios__item">
          <input class="govuk-radios__input" id="date-format" name="date-format" type="radio" value="single">
          <label class="govuk-label govuk-radios__label" for="date-format">
              As a single date
            </label>
        </div>
        <div class="govuk-radios__item">
          <input class="govuk-radios__input" id="date-format-2" name="date-format" type="radio" value="range">
          <label class="govuk-label govuk-radios__label" for="date-format-2">
              As a range with a start and end date
            </label>
        </div>

      </div>
    </div>
  </fieldset>
</div>

{{ dateSingle | safe }}
{{ dateRange | safe }}

{% block pageScripts %}
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const dateFormats = document.querySelectorAll('.date-format');
      const inputs = document.querySelectorAll('input[name="date-format"]');
      if (inputs) {
        inputs.forEach((input) => {
          input.addEventListener("change", (e) => {
            console.log(e.currentTarget.value)
            dateFormats.forEach((el) => {
              el.style.display = "none"
            });
            document
              .querySelector(`#date-format-${e.currentTarget.value}`)
              .style
              .display = "block";
          })
        });
      }
      dateFormats[0].style.display = "block";
      dateFormats[1].style.display = "none";
    });
  </script>
{% endblock %}