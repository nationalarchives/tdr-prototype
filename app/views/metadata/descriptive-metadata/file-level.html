{% extends "layout.html" %}

{% block pageTitle %}
File level descriptive metadata
{% endblock %}

{% block beforeContent %}
  <a href="../additional-metadata.html" class="govuk-back-link">Back</a>
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">
      Add or edit descriptive data on file basis
    </h1>{{releaseVersion | log }}
      <p class="govuk-body">You can now add or edit descriptive metadata to individual files or folders.</p>
      <p class="govuk-body">You can do this by selecting the relevant record(s) from the table below and proceed by clicking "Add descriptive metadata".</p>
      <div class="govuk-button-group govuk-tdr-metadata__file-selection-btns">
        <button class="govuk-button govuk-button--secondary" data-module="govuk-button" type="button" name="selectAll"
        value="select-all" onClick="check_all()">
        Select all
      </button>

        <button class="govuk-button govuk-button--secondary" data-module="govuk-button" type="button" name="selectAll"
        value="select-all" onClick="deselect_all()">
        Clear selection
      </button>
      </div>

      <div class="govuk-grid-row govuk-tdr-metadata__search">
        <div class="govuk-grid-column-two-thirds">
          <input class="govuk-input" id="event-name" name="event-name" type="text" placeholder="Enter a file or folder name">
        </div>
        <div class="govuk-grid-column-one-third">
          <a href="file-level#page-2" role="button" draggable="false" class="govuk-button" data-module="govuk-button">
        Search
      </a>
        </div>
      </div>
      {# <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible"> #}

      {# <p class="govuk-pagination__results">Showing <b>1</b> to <b>5</b> of <b>2500</b> results</p>

      <div class="govuk-breadcrumbs govuk-breadcrumbs-file-navigation">
        <ol class="govuk-breadcrumbs__list govuk-breadcrumbs__list--is-root">
          <li class="govuk-breadcrumbs__list-item">
            <span class="govuk-heading-s">Recipes and ingredients</span >
          </li>
        </ol>
      </div> #}
      {% include "./descriptive-files-table.html" %}

      <div class="govuk-button-group">
        <a href="./Lemonade/open-lemonade" role="button" draggable="false" class="govuk-button" data-module="govuk-button">
          Add or Edit metadata
        </a>

        <a href="./Lemonade/abandon-changes-warning.html" role="button" draggable="false" class="govuk-button govuk-button--warning" >
          Delete metadata
        </a>
      </div>

      <br/>

    </div>
  </div>

  <style>
    section {
      display: none;
    }

    .page-1 {
      display: block;
    }

    section:target {
      display: block;
    }

    section:target~#page-1 {
      display: none;
    }
  </style>

  <script type="text/javascript">
    function check_all() {
      var checkboxes = document.getElementsByName('organisation');
      checkboxes = [...checkboxes];
      for (var i = 0; i < checkboxes.length; i++) {
        checkboxes[i].checked = true
      }
    }

    function deselect_all() {
      var checkboxes = document.getElementsByName('organisation');
      checkboxes = [...checkboxes];
      for (var i = 0; i < checkboxes.length; i++) {
        checkboxes[i].checked = false
      }
    }

    if (!window.location.hash) {
      window.location.href = "file-level#page-1"
    }

    addCurrentPage("page-1-item");

    function addCurrentPage(page_item) {
      const selectedPage = page_item.split("-")[1];
      document
        .getElementById("page-1-item")
        .classList
        .remove("govuk-pagination__item--current");
      document
        .getElementById("page-2-item")
        .classList
        .remove("govuk-pagination__item--current");
      document
        .getElementById("page-3-item")
        .classList
        .remove("govuk-pagination__item--current");

      document
        .getElementById(page_item)
        .classList
        .add("govuk-pagination__item--current");

      document
        .getElementById("page-1-item")
        .innerHTML = '<a class="govuk-pagination__link" href="#page-1" id="page-1"><span class="govuk-visually-hidden">Page</span>1</a>';
      document
        .getElementById("page-2-item")
        .innerHTML = '<a class="govuk-pagination__link" href="#page-2" id="page-2"><span class="govuk-visually-hidden">Page</span>2</a>';
      document
        .getElementById("page-3-item")
        .innerHTML = '<a class="govuk-pagination__link" href="#page-3" id="page-3"><span class="govuk-visually-hidden">Page</span>3</a>';

      document
        .getElementById(page_item)
        .innerHTML = '<span class="govuk-visually-hidden">Page</span>' + selectedPage;

      document.getElementById("prev")

      document
        .getElementById("next")
        .href = "#page-" + (
      Number(selectedPage) + 1);
    }
  </script>
{% endblock %}